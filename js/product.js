import { formatCurrencyNumber, renderListCategory, renderListProductWithCateID } from './utils'

// Display products by using array literal
const data = [
  {
    id: '1',
    category_id: '1',
    name: 'Motorola Moto G5S Plus',
    description:
      '<p>Bộ vi xử lý: Intel Core i505200U 2.2 GHz (3MB L3)</p>\r\n                <p>Cache upto 2.7 GHz</p>\r\n                <p>Bộ nhớ RAM:4 GB (DDR3 Bus 1600 MHz)</p>\r\n                <p>Đồ họa: Intel HD Graphics</p>\r\n                <p>Ổ đĩa cứng: 5</p>',
    code: 'BAODEV01',
    slug: 'motorola-moto-g5s-plus',
    price: '8990000',
    discount: '6990000',
    thumb: 'img-pro-16.png',
    content: '<p>San pham 1</p>\r\n',
    status: '1',
    id_seller: '2',
    created_at: '2023-09-30 22:18:05',
    updated_at: '2023-09-30 22:18:05',
  },
  {
    id: '2',
    category_id: '1',
    name: 'Samsung Galaxy A5',
    description: 'Samsung Galaxy A5',
    code: 'BAODEV02',
    slug: 'samsung-galaxy-a5',
    price: '9990000',
    discount: '7990000',
    thumb: 'img-pro-15.png',
    content: '<p>San pham 2</p>\r\n',
    status: '1',
    id_seller: '2',
    created_at: '2023-10-01 15:14:49',
    updated_at: '2023-10-01 15:14:49',
  },
  {
    id: '3',
    category_id: '1',
    name: 'Sony Xperia XA Ultra',
    description: 'Sony Xperia XA Ultra',
    code: 'BAODEV03',
    slug: 'sony-xperia-xa-ultra',
    price: '7990000',
    discount: '6990000',
    thumb: 'img-pro-14.png',
    content: '<p>San pham 3</p>\r\n',
    status: '1',
    id_seller: '2',
    created_at: '2023-10-05 11:03:37',
    updated_at: '2023-10-05 11:03:37',
  },
  {
    id: '4',
    category_id: '1',
    name: 'Huawei Nova 2i',
    description: 'Huawei Nova 2i',
    code: 'BAODEV04',
    slug: 'huawei-nova-2i',
    price: '8990000',
    discount: '5990000',
    thumb: 'img-pro-13.png',
    content: '<p>San pham 4</p>\r\n',
    status: '1',
    id_seller: '2',
    created_at: '2023-10-05 11:05:21',
    updated_at: '2023-10-05 11:05:21',
  },
  {
    id: '5',
    category_id: '1',
    name: 'Xiaomi Mi A1',
    description: 'Xiaomi Mi A1',
    code: 'BAODEV05',
    slug: 'xiaomi-mi-a1',
    price: '6900000',
    discount: '5900000',
    thumb: 'img-pro-12.png',
    content: '<p>San pham 5</p>\r\n',
    status: '1',
    id_seller: '2',
    created_at: '2023-10-05 11:06:12',
    updated_at: '2023-10-05 11:06:12',
  },
  {
    id: '6',
    category_id: '1',
    name: 'HTC U Ultra Sapphire',
    description: 'HTC U Ultra Sapphire',
    code: 'BAODEV06',
    slug: 'htc-u-ultra-sapphire',
    price: '18500000',
    discount: '16500000',
    thumb: 'img-pro-11.png',
    content: '<p>Sản phẩm 6</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:10:47',
    updated_at: '2023-10-05 11:10:47',
  },
  {
    id: '7',
    category_id: '1',
    name: 'Sony Xperia XZ Dual',
    description: 'Sony Xperia XZ Dual',
    code: 'BAODEV07',
    slug: 'sony-xperia-xz-dual',
    price: '10990000',
    discount: '7990000',
    thumb: 'img-pro-08.png',
    content: '<p>Sản phẩm 6</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:11:28',
    updated_at: '2023-10-05 11:11:28',
  },
  {
    id: '8',
    category_id: '1',
    name: 'Bphone 2017',
    description: 'Bphone 2017',
    code: 'BAODEV08',
    slug: 'bphone-2017',
    price: '10900000',
    discount: '7900000',
    thumb: 'img-pro-10.png',
    content: '<p>San pham 8</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:12:02',
    updated_at: '2023-10-05 11:12:02',
  },
  {
    id: '9',
    category_id: '2',
    name: 'Laptop Acer Aspire ES1',
    description: 'Laptop Asus X441NA',
    code: 'BAODEV09',
    slug: 'laptop-acer-aspire-es1',
    price: '8690000',
    discount: '7690000',
    thumb: 'img-pro-17.png',
    content: '<p>San pham 9</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:13:59',
    updated_at: '2023-10-05 11:13:59',
  },
  {
    id: '10',
    category_id: '2',
    name: 'Laptop Acer ES1 X441NA',
    description: 'Laptop Acer ES1 533',
    code: 'BAODEV10',
    slug: 'laptop-acer-es1-x441na',
    price: '9490000',
    discount: '7490000',
    thumb: 'img-pro-19.png',
    content: '<p>San pham 10</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:20:53',
    updated_at: '2023-10-05 11:20:53',
  },
  {
    id: '11',
    category_id: '2',
    name: 'Laptop Lenovo IdeaPad 110',
    description: 'Laptop Lenovo IdeaPad 110',
    code: 'BAODEV11',
    slug: 'laptop-lenovo-ideapad-110',
    price: '10490000',
    discount: '9490000',
    thumb: 'img-pro-18.png',
    content: '<p>San pham 11</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:22:35',
    updated_at: '2023-10-05 11:22:35',
  },
  {
    id: '12',
    category_id: '2',
    name: 'Laptop Lenovo IdeaPad',
    description: 'Laptop Lenovo IdeaPad',
    code: 'BAODEV12',
    slug: 'laptop-lenovo-ideapad',
    price: '7990000',
    discount: '6990000',
    thumb: 'img-pro-20.png',
    content: '<p>Sản phẩm 6</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:23:24',
    updated_at: '2023-10-05 11:23:24',
  },
  {
    id: '13',
    category_id: '2',
    name: 'Laptop Asus X441NA',
    description: 'Laptop Asus X441NA',
    code: 'BAODEV13',
    slug: 'laptop-asus-x441na',
    price: '8490000',
    discount: '6490000',
    thumb: 'img-pro-21.png',
    content: '<p>San pham 13</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:24:02',
    updated_at: '2023-10-05 11:24:02',
  },
  {
    id: '14',
    category_id: '2',
    name: 'Laptop Acer Aspire ES1',
    description: 'Laptop Acer Aspire ES1',
    code: 'BAODEV14',
    slug: 'laptop-acer-aspire-e',
    price: '7390000',
    discount: '6390000',
    thumb: 'img-pro-22.png',
    content: '<p>San pham 14</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:24:41',
    updated_at: '2023-10-05 11:24:41',
  },
  {
    id: '15',
    category_id: '2',
    name: 'Laptop Lenovo IdeaPad 120S',
    description: 'Laptop Lenovo IdeaPad 120S',
    code: 'BAODEV15',
    slug: 'laptop-lenovo-ideapa',
    price: '7190000',
    discount: '6190000',
    thumb: 'img-pro-05.png',
    content: '<p>San pham 15</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:25:35',
    updated_at: '2023-10-05 11:25:35',
  },
  {
    id: '16',
    category_id: '2',
    name: 'Laptop Asus A540UP I5',
    description: 'Laptop Asus A540UP I5',
    code: 'BAODEV16',
    slug: 'laptop-asus-a540up-i',
    price: '16490000',
    discount: '14490000',
    thumb: 'img-pro-23.png',
    content: '<p>San pham 16</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:26:30',
    updated_at: '2023-10-05 11:26:30',
  },
  {
    id: '17',
    category_id: '1',
    name: 'Iphone 15',
    description: 'Iphone 15',
    code: 'BAODEV17',
    slug: 'iphone-15',
    price: '59000000',
    discount: '57000000',
    thumb: 'iphone-15.jpeg',
    content: '<p>San pham 17</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 11:29:01',
    updated_at: '2023-10-05 11:29:01',
  },
  {
    id: '18',
    category_id: '1',
    name: 'Iphone XS',
    description: 'Iphone XS',
    code: 'BAODEV18',
    slug: 'iphone-xs',
    price: '10490000',
    discount: '9490000',
    thumb: 'iphone-xs.jpg',
    content: '<p>San pham 18</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 17:41:59',
    updated_at: '2023-10-05 17:41:59',
  },
  {
    id: '19',
    category_id: '1',
    name: 'Samsung Galaxy Note 20 Ultra',
    description: 'Samsung Galaxy Note 20 Ultra 5G\r\n',
    code: 'BAODEV19',
    slug: 'samsung-galaxy-note-',
    price: '23990000',
    discount: '19900000',
    thumb: 'note-ultra.png',
    content: '<p>San pham 19</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 17:46:09',
    updated_at: '2023-10-05 17:46:09',
  },
  {
    id: '20',
    category_id: '1',
    name: 'Iphone 7 128GB',
    description: 'Iphone 7 128GB',
    code: 'BAODEV20',
    slug: 'iphone-7-128gb',
    price: '15900000',
    discount: '12900000',
    thumb: 'iphone-7.jpg',
    content: '<p>San pham 20</p>\r\n',
    status: '1',
    id_seller: '1',
    created_at: '2023-10-05 17:48:08',
    updated_at: '2023-10-05 17:48:08',
  },
]
function renderListProduct(selector) {
  const ulElement = document.querySelector(selector)
  ulElement.textContent = ''
  if (!ulElement) return
  data.forEach((item) => {
    const liElement = document.createElement('li')
    liElement.innerHTML = `<a href="/product-detail.html?id=${item.id}" title="" class="thumb">
    <img src="public/images/${item.thumb}" alt="${item.name}" />
  </a>
  <a href="/product-detail.html" title="" class="product-name">${item.name}</a>
  <div class="price">
    <span class="new">${formatCurrencyNumber(item.discount)}</span>
    <span class="old">${formatCurrencyNumber(item.price)}</span>
  </div>
  <div class="action clearfix">
    <a href="/cart.html" title="Thêm giỏ hàng" class="add-cart fl-left">Thêm giỏ hàng</a>
    <a href="/checkout.html" title="Mua ngay" class="buy-now fl-right">Mua ngay</a>
  </div>`
    ulElement.appendChild(liElement)
  })
}

// main
;(() => {
  renderListCategory('#listCategory')
  const searchParams = new URLSearchParams(location.search)
  if (Boolean(searchParams.get('catID'))) {
    renderListProductWithCateID({
      selector: '#listProduct',
      productHeading: '#productHeading',
      categoryID: +searchParams.get('catID'),
    })
  } else {
    renderListProduct('#listProduct')
  }
})()
